{"remainingRequest":"/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/node_modules/babel-loader/lib/index.js!/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/src/store/actions.js","dependencies":[{"path":"/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/src/store/actions.js","mtime":1540968797380},{"path":"/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1540969015433},{"path":"/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import axios from 'axios';\nimport router from '../router';\nimport Vue from 'vue';\nimport { LOGIN, LOGIN_SUCCESS, LOGOUT, LOGOUT_SUCCESS, FETCH_USER_DATA, FETCH_USER_DATA_SUCCESS } from './mutation-types';\nimport * as config from '../config';\nvar API_BASE = config.API_BASE;\nexport var driverAction = {\n  login: function login(_ref, credential) {\n    var commit = _ref.commit;\n    console.log(credential);\n    var pureCred = {\n      username: credential.username,\n      password: credential.password\n    };\n    commit(LOGIN);\n    axios.post(\"\".concat(API_BASE, \"/drivers/login\"), pureCred).then(function (response) {\n      commit(LOGIN_SUCCESS, response.data);\n      router.push('/');\n      Vue.swal('Đăng nhập thành công');\n    }, function (error) {\n      Vue.swal('Sai tên đăng nhập/mật khẩu');\n    });\n  },\n  fetchUserData: function fetchUserData(_ref2, accessToken) {\n    var commit = _ref2.commit;\n    commit(FETCH_USER_DATA);\n    axios.get(\"\".concat(API_BASE, \"/drivers/\").concat(accessToken.userId), {\n      headers: {\n        'Authorization': accessToken.id\n      }\n    }).then(function (response) {\n      commit(FETCH_USER_DATA_SUCCESS, response.data);\n    });\n  }\n};",{"version":3,"sources":["/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/src/store/actions.js"],"names":["axios","router","Vue","LOGIN","LOGIN_SUCCESS","LOGOUT","LOGOUT_SUCCESS","FETCH_USER_DATA","FETCH_USER_DATA_SUCCESS","config","API_BASE","driverAction","login","credential","commit","console","log","pureCred","username","password","post","then","response","data","push","swal","fetchUserData","accessToken","get","userId","headers","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,SACEC,KADF,EAEIC,aAFJ,EAGIC,MAHJ,EAIIC,cAJJ,EAKIC,eALJ,EAMIC,uBANJ,QAOO,kBAPP;AASA,OAAO,KAAKC,MAAZ,MAAwB,WAAxB;AAEA,IAAMC,WAAWD,OAAOC,QAAxB;AAEA,OAAO,IAAMC,eAAe;AACxBC,OADwB,uBACRC,UADQ,EACI;AAAA,QAArBC,MAAqB,QAArBA,MAAqB;AACxBC,YAAQC,GAAR,CAAYH,UAAZ;AACA,QAAII,WAAW;AACXC,gBAAUL,WAAWK,QADV;AAEXC,gBAAUN,WAAWM;AAFV,KAAf;AAIAL,WAAOX,KAAP;AACAH,UAAMoB,IAAN,WAAcV,QAAd,qBAAwCO,QAAxC,EAAkDI,IAAlD,CAAuD,oBAAY;AAC/DP,aAAOV,aAAP,EAAsBkB,SAASC,IAA/B;AACAtB,aAAOuB,IAAP,CAAY,GAAZ;AACAtB,UAAIuB,IAAJ,CAAS,sBAAT;AACH,KAJD,EAIG,iBAAS;AACRvB,UAAIuB,IAAJ,CAAS,4BAAT;AACH,KAND;AAOH,GAfuB;AAgBxBC,eAhBwB,gCAgBAC,WAhBA,EAgBY;AAAA,QAArBb,MAAqB,SAArBA,MAAqB;AAChCA,WAAOP,eAAP;AACAP,UAAM4B,GAAN,WAAalB,QAAb,sBAAiCiB,YAAYE,MAA7C,GAAuD;AACnDC,eAAS;AACL,yBAAiBH,YAAYI;AADxB;AAD0C,KAAvD,EAIGV,IAJH,CAIQ,oBAAY;AAChBP,aAAON,uBAAP,EAAgCc,SAASC,IAAzC;AACH,KAND;AAOH;AAzBuB,CAArB","sourcesContent":["import axios from 'axios'\nimport router from '../router'\nimport Vue from 'vue'\nimport {\n  LOGIN,\n    LOGIN_SUCCESS,\n    LOGOUT,\n    LOGOUT_SUCCESS,\n    FETCH_USER_DATA,\n    FETCH_USER_DATA_SUCCESS\n} from './mutation-types'\n\nimport * as config from '../config'\n\nconst API_BASE = config.API_BASE;\n\nexport const driverAction = {\n    login({commit}, credential) {\n        console.log(credential);\n        let pureCred = {\n            username: credential.username,\n            password: credential.password\n        };\n        commit(LOGIN);\n        axios.post(`${API_BASE}/drivers/login`, pureCred).then(response => {\n            commit(LOGIN_SUCCESS, response.data);\n            router.push('/');\n            Vue.swal('Đăng nhập thành công');\n        }, error => {\n            Vue.swal('Sai tên đăng nhập/mật khẩu');\n        })\n    },\n    fetchUserData({commit}, accessToken){\n        commit(FETCH_USER_DATA);\n        axios.get(`${API_BASE}/drivers/${accessToken.userId}`, {\n            headers: {\n                'Authorization': accessToken.id\n            }\n        }).then(response => {\n            commit(FETCH_USER_DATA_SUCCESS, response.data);\n        })\n    }\n};"]}]}