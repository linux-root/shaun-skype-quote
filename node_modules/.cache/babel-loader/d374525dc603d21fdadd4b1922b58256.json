{"remainingRequest":"/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/node_modules/babel-loader/lib/index.js!/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/src/router/index.js","dependencies":[{"path":"/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/src/router/index.js","mtime":1540968797380},{"path":"/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/node_modules/cache-loader/dist/cjs.js","mtime":1540969015433},{"path":"/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Login from './login';\nimport Home from './home';\nimport Register from './register'; //WHEN using @ you needn't declare the component name in Details\n\nVue.use(VueRouter);\nvar router = new VueRouter({\n  mode: 'history',\n  routes: [Home, Login, Register]\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  })) {\n    if (localStorage.getItem('accessToken') == null) {\n      next({\n        path: '/login',\n        params: {\n          nextUrl: to.fullPath\n        }\n      });\n    } else {\n      next();\n    }\n  } else if (to.matched.some(function (record) {\n    return record.meta.guest;\n  })) {\n    if (localStorage.getItem('accessToken') == null) {\n      next();\n    } else {\n      next({\n        path: '/'\n      });\n    }\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/home/kurro/Projects/driver-tracking-ui/driver-tracking-ui/src/router/index.js"],"names":["Vue","VueRouter","Login","Home","Register","use","router","mode","routes","beforeEach","to","from","next","matched","some","record","meta","requiresAuth","localStorage","getItem","path","params","nextUrl","fullPath","guest"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB,C,CAEA;;AAEAJ,IAAIK,GAAJ,CAAQJ,SAAR;AAEA,IAAIK,SAAS,IAAIL,SAAJ,CAAc;AACvBM,QAAM,SADiB;AAEvBC,UAAQ,CACJL,IADI,EACED,KADF,EACSE,QADT;AAFe,CAAd,CAAb;AAOAE,OAAOG,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAGF,GAAGG,OAAH,CAAWC,IAAX,CAAgB;AAAA,WAAUC,OAAOC,IAAP,CAAYC,YAAtB;AAAA,GAAhB,CAAH,EAAwD;AACpD,QAAIC,aAAaC,OAAb,CAAqB,aAArB,KAAuC,IAA3C,EAAiD;AAC7CP,WAAK;AACDQ,cAAM,QADL;AAEDC,gBAAQ;AAAEC,mBAASZ,GAAGa;AAAd;AAFP,OAAL;AAIH,KALD,MAKO;AACJX;AACF;AACJ,GATD,MASO,IAAGF,GAAGG,OAAH,CAAWC,IAAX,CAAgB;AAAA,WAAUC,OAAOC,IAAP,CAAYQ,KAAtB;AAAA,GAAhB,CAAH,EAAiD;AACpD,QAAGN,aAAaC,OAAb,CAAqB,aAArB,KAAuC,IAA1C,EAA+C;AAC3CP;AACH,KAFD,MAGI;AACAA,WAAK;AAAEQ,cAAM;AAAR,OAAL;AACH;AACJ,GAPM,MAOD;AACFR;AACH;AACJ,CApBD;AAsBA,eAAeN,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Login from './login'\nimport Home from './home'\nimport Register from './register'\n\n//WHEN using @ you needn't declare the component name in Details\n\nVue.use(VueRouter);\n\nlet router = new VueRouter({\n    mode: 'history',\n    routes: [\n        Home, Login, Register\n    ]\n});\n\nrouter.beforeEach((to, from, next) => {\n    if(to.matched.some(record => record.meta.requiresAuth)) {\n        if (localStorage.getItem('accessToken') == null) {\n            next({\n                path: '/login',\n                params: { nextUrl: to.fullPath }\n            })\n        } else {\n           next()\n        }\n    } else if(to.matched.some(record => record.meta.guest)) {\n        if(localStorage.getItem('accessToken') == null){\n            next()\n        }\n        else{\n            next({ path: '/'})\n        }\n    }else {\n        next()\n    }\n});\n\nexport default router;\n"]}]}