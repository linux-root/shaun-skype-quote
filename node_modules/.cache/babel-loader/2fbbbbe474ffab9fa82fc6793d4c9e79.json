{"remainingRequest":"/home/kurro/Projects/shaun-skype-quote/node_modules/babel-loader/lib/index.js!/home/kurro/Projects/shaun-skype-quote/src/store/actions.js","dependencies":[{"path":"/home/kurro/Projects/shaun-skype-quote/src/store/actions.js","mtime":1542265173737},{"path":"/home/kurro/Projects/shaun-skype-quote/node_modules/cache-loader/dist/cjs.js","mtime":1542261720814},{"path":"/home/kurro/Projects/shaun-skype-quote/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import axios from 'axios';\nimport router from '../router';\nimport Vue from 'vue';\nimport { LOGIN, LOGIN_SUCCESS, LOGOUT, LOGOUT_SUCCESS, FETCH_USER_DATA, FETCH_USER_DATA_SUCCESS } from './mutation-types';\nimport * as config from '../config';\n/**\n * @return {string}\n */\n\nvar MAIN_URL = function MAIN_URL(main_thread) {\n  return \"https://bn2-client-s.gateway.messenger.live.com/v1/users/ME/conversations/\" + main_thread + \"/messages\";\n};\n\nvar HEADER = function HEADER(token) {\n  return {\n    Pragma: 'no-cache',\n    BehaviorOverride: 'redirectAs404',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',\n    ClientInfo: 'os=Windows; osVer=10; proc=Win32; lcid=en-us; deviceType=1; country=VN; clientName=skype.com; clientVer=908/1.125.0.40//skype.com',\n    ContextId: 'tcid=154106234507527156',\n    RegistrationToken: token,\n    Accept: 'application/json, text/javascript',\n    'Cache-Control': 'no-cache, no-store, must-revalidate',\n    'Content-Type': 'application/json',\n    Origin: 'https://web.skype.com',\n    Expires: '0',\n    Referer: 'https://web.skype.com/en/',\n    'Accept-Encoding': 'gzip, deflate, br',\n    'Accept-Language': 'en-US,en;q=0.9'\n  };\n};\n\nvar skypeDataStandard = function skypeDataStandard(data) {\n  var content = \"<quote author=\\\"\".concat(data.author, \"\\\" authorname=\\\"\").concat(data.authorname, \"\\\" conversation=\\\"\").concat(data.conversation, \"\\\" timestamp=\\\"\").concat(data.timestamp, \"\\\">\\n<legacyquote>[\").concat(data.time_format, \"] \").concat(data.authorname, \":</legacyquote>\").concat(data.msg, \"\\n<legacyquote>\\r\\n\\r\\n&lt;&lt;&lt; </legacyquote>\\n</quote>\");\n  return {\n    content: content,\n    messagetype: 'RichText',\n    contenttype: 'text',\n    'Has-Mentions': false,\n    imdisplayname: data.imdisplayname,\n    clientmessageid: data.clientmessageid\n  };\n};\n\nexport var driverAction = {\n  login: function login(_ref, data) {\n    var commit = _ref.commit;\n    console.log(HEADER(data.token));\n    console.log(skypeDataStandard(data));\n    commit(LOGIN);\n    var options = {\n      method: 'POST',\n      headers: HEADER(data.token),\n      data: skypeDataStandard(data),\n      url: MAIN_URL(data.conversation)\n    };\n    axios(options).then(function (response) {\n      commit(LOGIN_SUCCESS, response.data);\n      Vue.swal('Fake thành công');\n    }, function (error) {\n      Vue.swal('dis, error');\n    });\n  }\n};",{"version":3,"sources":["/home/kurro/Projects/shaun-skype-quote/src/store/actions.js"],"names":["axios","router","Vue","LOGIN","LOGIN_SUCCESS","LOGOUT","LOGOUT_SUCCESS","FETCH_USER_DATA","FETCH_USER_DATA_SUCCESS","config","MAIN_URL","main_thread","HEADER","token","Pragma","BehaviorOverride","ClientInfo","ContextId","RegistrationToken","Accept","Origin","Expires","Referer","skypeDataStandard","data","content","author","authorname","conversation","timestamp","time_format","msg","messagetype","contenttype","imdisplayname","clientmessageid","driverAction","login","commit","console","log","options","method","headers","url","then","response","swal"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,SACEC,KADF,EAEIC,aAFJ,EAGIC,MAHJ,EAIIC,cAJJ,EAKIC,eALJ,EAMIC,uBANJ,QAOO,kBAPP;AASA,OAAO,KAAKC,MAAZ,MAAwB,WAAxB;AAEA;;;;AAGA,IAAMC,WAAW,SAAXA,QAAW,CAASC,WAAT,EAAqB;AAClC,SAAQ,+EAA+EA,WAA/E,GAA6F,WAArG;AACH,CAFD;;AAKA,IAAMC,SAAS,SAATA,MAAS,CAASC,KAAT,EAAe;AAC1B,SAAO;AAACC,YAAQ,UAAT;AACHC,sBAAkB,eADf;AAEH,kBAAc,qHAFX;AAGHC,gBAAY,mIAHT;AAIHC,eAAW,yBAJR;AAKHC,uBAAmBL,KALhB;AAMHM,YAAQ,mCANL;AAOH,qBAAiB,qCAPd;AAQH,oBAAgB,kBARb;AASHC,YAAQ,uBATL;AAUHC,aAAS,GAVN;AAWHC,aAAS,2BAXN;AAYH,uBAAmB,mBAZhB;AAaH,uBAAmB;AAbhB,GAAP;AAcH,CAfD;;AAiBC,IAAMC,oBAAoB,SAApBA,iBAAoB,CAAUC,IAAV,EAAgB;AACvC,MAAIC,oCAA6BD,KAAKE,MAAlC,6BAA2DF,KAAKG,UAAhE,+BAA+FH,KAAKI,YAApG,4BAAkIJ,KAAKK,SAAvI,gCACQL,KAAKM,WADb,eAC6BN,KAAKG,UADlC,4BAC8DH,KAAKO,GADnE,iEAAJ;AAIA,SAAO;AACHN,aAAUA,OADP;AAEHO,iBAAa,UAFV;AAGHC,iBAAa,MAHV;AAIH,oBAAgB,KAJb;AAKHC,mBAAeV,KAAKU,aALjB;AAMHC,qBAAiBX,KAAKW;AANnB,GAAP;AAQH,CAbA;;AAkBD,OAAO,IAAMC,eAAe;AACxBC,OADwB,uBACRb,IADQ,EACF;AAAA,QAAfc,MAAe,QAAfA,MAAe;AAClBC,YAAQC,GAAR,CAAY5B,OAAOY,KAAKX,KAAZ,CAAZ;AACA0B,YAAQC,GAAR,CAAYjB,kBAAkBC,IAAlB,CAAZ;AACAc,WAAOnC,KAAP;AACA,QAAMsC,UAAU;AACZC,cAAQ,MADI;AAEZC,eAAS/B,OAAOY,KAAKX,KAAZ,CAFG;AAGZW,YAAMD,kBAAkBC,IAAlB,CAHM;AAIZoB,WAAKlC,SAASc,KAAKI,YAAd;AAJO,KAAhB;AAMA5B,UAAMyC,OAAN,EAAeI,IAAf,CAAoB,oBAAY;AAC5BP,aAAOlC,aAAP,EAAsB0C,SAAStB,IAA/B;AACAtB,UAAI6C,IAAJ,CAAS,iBAAT;AACH,KAHD,EAGG,iBAAS;AACR7C,UAAI6C,IAAJ,CAAS,YAAT;AACH,KALD;AAMH;AAjBuB,CAArB","sourcesContent":["import axios from 'axios'\nimport router from '../router'\nimport Vue from 'vue'\nimport {\n  LOGIN,\n    LOGIN_SUCCESS,\n    LOGOUT,\n    LOGOUT_SUCCESS,\n    FETCH_USER_DATA,\n    FETCH_USER_DATA_SUCCESS\n} from './mutation-types'\n\nimport * as config from '../config'\n\n/**\n * @return {string}\n */\nconst MAIN_URL = function(main_thread){\n    return  \"https://bn2-client-s.gateway.messenger.live.com/v1/users/ME/conversations/\" + main_thread + \"/messages\";\n}\n\n\nconst HEADER = function(token){\n    return {Pragma: 'no-cache',\n        BehaviorOverride: 'redirectAs404',\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',\n        ClientInfo: 'os=Windows; osVer=10; proc=Win32; lcid=en-us; deviceType=1; country=VN; clientName=skype.com; clientVer=908/1.125.0.40//skype.com',\n        ContextId: 'tcid=154106234507527156',\n        RegistrationToken: token,\n        Accept: 'application/json, text/javascript',\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\n        'Content-Type': 'application/json',\n        Origin: 'https://web.skype.com',\n        Expires: '0',\n        Referer: 'https://web.skype.com/en/',\n        'Accept-Encoding': 'gzip, deflate, br',\n        'Accept-Language': 'en-US,en;q=0.9'}\n}\n\n﻿const skypeDataStandard = function (data) {\n    let content = `<quote author=\\\"${data.author}\\\" authorname=\\\"${data.authorname}\\\" conversation=\\\"${data.conversation}\\\" timestamp=\\\"${data.timestamp}\\\">\n<legacyquote>[${data.time_format}] ${data.authorname}:</legacyquote>${data.msg}\n<legacyquote>\\r\\n\\r\\n&lt;&lt;&lt; </legacyquote>\n</quote>`\n    return {\n        content : content,\n        messagetype: 'RichText',\n        contenttype: 'text',\n        'Has-Mentions': false,\n        imdisplayname: data.imdisplayname,\n        clientmessageid: data.clientmessageid\n    }\n}\n\n\n\n\nexport const driverAction = {\n    login({commit}, data) {\n        console.log(HEADER(data.token))\n        console.log(skypeDataStandard(data))\n        commit(LOGIN);\n        const options = {\n            method: 'POST',\n            headers: HEADER(data.token),\n            data: skypeDataStandard(data),\n            url: MAIN_URL(data.conversation),\n        };\n        axios(options).then(response => {\n            commit(LOGIN_SUCCESS, response.data);\n            Vue.swal('Fake thành công');\n        }, error => {\n            Vue.swal('dis, error');\n        })\n    }\n};"]}]}